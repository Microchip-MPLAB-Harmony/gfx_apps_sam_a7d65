<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family | Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family Package</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family Package" /> <meta property="og:description" content="Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family Package" /> <link rel="canonical" href="../../../../apps/legato_quickstart/firmware/legato_qs_a7d65_curiosity_ws_7_9inch.X/" /> <meta property="og:url" content="../../../../apps/legato_quickstart/firmware/legato_qs_a7d65_curiosity_ws_7_9inch.X/" /> <meta property="og:site_name" content="Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family Package","headline":"Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../../../assets/images/vendor/mgs.svg"}},"url":"../../../../apps/legato_quickstart/firmware/legato_qs_a7d65_curiosity_ws_7_9inch.X/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="../../../../" class="nav-list-link">Microchip Graphics Suite Harmony SAM A7D65 Applications Package</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../../../apps/readme.html" class="nav-list-link">Example Applications</a><ul class="nav-list "><li class="nav-list-item "><a href="../../../../apps/legato_quickstart/readme.html" class="nav-list-link">Legato Quickstart</a></li></ul></li><li class="nav-list-item"><a href="../../../../release_notes.html" class="nav-list-link">Release notes</a></li><li class="nav-list-item"><a href="../../../../mplab_harmony_license.html" class="nav-list-link">License</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family" aria-label="Search Microchip Graphics Suite Harmony Application Examples for SAM A7D65 Family" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <p><img src="/gfx_apps_sam_a7d65/images/mgs.svg" alt="" /></p> <p>legato_qs_a7d65_curiosity_ws_7_9inch.X</p> <h2 id="defining-the-architecture"> <a href="#defining-the-architecture" aria-labelledby="defining-the-architecture" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Defining the Architecture </h2> <p><img src="/gfx_apps_sam_a7d65/images/dsi_ws_arch.png" alt="" /></p> <p>This application demonstrates multi-layer 1280x400 graphics using DDR3 memory.</p> <p>The included display driver enables the display and controls backlight brightness. User touch input on the display panel is received through the capacitive touch controller, which is polled by the display driver. The display driver reads the touch information over I2C and sends the touch event to the Graphics Library through the Input System Service.</p> <h3 id="demonstration-features"> <a href="#demonstration-features" aria-labelledby="demonstration-features" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Demonstration Features </h3> <ul> <li>Legato Graphics Library</li> <li>Reference application for the SAMA7D65 Curiosity Board</li> <li>24-bit color, multi-layer, 400x1280 screen design</li> <li>Time system service, RTT peripheral library and driver</li> <li>Graphics Acceleration using integrated display controller (XLCDC)</li> <li>Waveshare 7.9inch DSI LCD driver</li> </ul> <h2 id="creating-the-project-graph"> <a href="#creating-the-project-graph" aria-labelledby="creating-the-project-graph" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Creating the Project Graph </h2> <p>The Project Graph shows the MCC Harmony 3 components that are included in this application. Lines between components are drawn to satisfy components that depend on a capability that another component provides. The display components must be added in order, from left to right, for the display parameters to propogate correctly to the LE XLCDC driver.</p> <p><img src="/gfx_apps_sam_a7d65/images/ws79_graph.png" alt="" /></p> <p>The DSI cable I2C FLEXCOM0_IOx pins <strong>PC7</strong> and <strong>PC6</strong> are multiplexed using the Pin Configuration plugin and the XLCDC pixel clock is manually set to <strong>50MHz</strong> in the <strong>LE XLCDC Driver</strong> MCC component.</p> <p><img src="/gfx_apps_sam_a7d65/images/mcc_ws79_0.png" alt="" /></p> <blockquote> <p><strong>NOTE:</strong> This display has a resolution of 400(W)x1280(H), so it is required to rotate the framebuffer by 90 or 270 degrees to acheive landscape display orientation. This application sets it to 270 degrees for easy access to the ports and the ability to prop the display up using the provided standoffs.</p> </blockquote> <p>In Microchip Graphics Composer, the resolution is set to 1280(W)x400(H).</p> <p><img src="/gfx_apps_sam_a7d65/images/composer_1_ws79.png" alt="" /></p> <p>Also, the software render orientation is set to 270 degrees.</p> <p><img src="/gfx_apps_sam_a7d65/images/composer_2_ws79.png" alt="" /></p> <p>In the MCC display driver component, the touch orientation is set to 270 degrees.</p> <p><img src="/gfx_apps_sam_a7d65/images/mcc_ws79_1.png" alt="" /></p> <h2 id="building-the-application"> <a href="#building-the-application" aria-labelledby="building-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Building the Application </h2> <p>The parent directory for this application is gfx/apps/legato_quickstart. To build this application, use MPLAB X IDE to open the gfx/apps/legato_quickstart/firmware/legato_qs_a7d65_curiosity_ws_7_9inch.X project folder and press F11. A successful build will generate a harmony.bin file in dist/le_qs_a7d65_curiosity_ws_7_9inch/production in the project folder.</p> <p>The following table lists configuration properties:</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Project Name</th> <th style="text-align: left">BSP Used</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">legato_qs_a7d65_curiosity_ws_7_9inch.X</td> <td style="text-align: left">NA</td> <td style="text-align: left"><a href="https://www.microchipdirect.com/dev-tools/EV40F82A?allDevTools=true">SAMA7D65 Curiosity</a> and <a href="https://www.waveshare.com/7.9inch-dsi-lcd.htm">Waveshare 7.9inch DSI LCD</a> Display</td> </tr> </tbody> </table></div> <blockquote> <p><strong>NOTE:</strong> This application may contain custom code that is marked by the comments // START OF CUSTOM CODE … and // END OF CUSTOM CODE. When using the MPLAB Code Configurator to regenerate the application code, do not remove or replace the custom code.</p> </blockquote> <h2 id="configuring-the-hardware"> <a href="#configuring-the-hardware" aria-labelledby="configuring-the-hardware" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configuring the Hardware </h2> <p>Configure the hardware as follows:</p> <ul> <li> <p>Connect a Type C USB cable to power the Waveshare 7.9inch DSI LCD.</p> </li> <li> <p>Connect the SAMA7D65 Curiosity board to the MIPI DSI 32pin to 15pin adapter board using the 34 pin Type D FFC ribbon as shown below.</p> </li> </ul> <p><img src="/gfx_apps_sam_a7d65/images/a7d65_ws79_conn1.jfif" alt="" /></p> <ul> <li>Connect the display to the MIPI DSI 32pin to 15pin adapter board using the supplied 15 pin Type A FFC ribbon as shown below.</li> </ul> <p><img src="/gfx_apps_sam_a7d65/images/a7d65_ws79_conn2.jfif" alt="" /></p> <ul> <li> <p>Take an SD Card formatted with the FAT32 file system and copy the boot.bin binary file from this <a href="./binaries/boot.bin">location</a>. Also copy the harmony.bin file you generated from the “Building the Application” section.</p> </li> <li> <p>Insert the SD card into the SD CARD slot on the SAMA7D65 Curiosity and power up the board by connecting a Type-C USB cable to the USB port or an adapter to the barrel jack (5V/1A recommended, Center Positive).</p> </li> </ul> <h2 id="running-the-demonstration"> <a href="#running-the-demonstration" aria-labelledby="running-the-demonstration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running the Demonstration </h2> <p>The LCD should display a simple screen with images, text, and a button on successful power-on.</p> <p>See reference image below.</p> <p><img src="/gfx_apps_sam_a7d65/images/a7d65_ws79_qs.jfif" alt="" /></p> <hr /> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2024 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2024 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
